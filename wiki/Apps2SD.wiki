#labels Featured
=How to activate/deactivate Apps2SD on LCR=

= IMPORTANT NOTE=

{{{
Until LCR 1.2.2 (included), there is a bug when usings apps2 sd and there were not a least one app in app and one in app-private. This will be fixed soon. I am currently working on
Please Be patient

Moreover next version will include free space control before operation.

Thank you

Malez
}}}

== Introduction ==

apps2sd offers the ability to store your application on you sdcard instead or you phone internal memory.

The main advantage of this method is to increase the number of apps you can install on your phone by storing then a huge partition and SD card (generally 500 Mo). Moreover if you frequently flash roms that wipe your data partition, your apps will keep in a safe place on SD and you will just have to reactivate apps2sd after installation to restore your apps.

If you don't have space problems on you phone or don't frequently flash your phone, you don't really need this. You must know that if your apps are stored on sd, and the sd card is not present on boot, you will not have any apps. Fortunatly this case is now catched and the phone will boot !

== Requirements ==

LCR 1.2.3+ 

You must have an ext2/ext3 partition on your sd card for this to work. If that is not the case, please create an ext parition on your sdcard. This could be done in recovery mode. 

== How to ==

*All operations described here must be done as root in a terminal emulator. *

So the first step is to launch "Terminal Emulator" application or log via adb and then enter
{{{
su
}}}

Note that, after a change in location of apps, apps list will be refreshed in apps menu on the first open of the menu.

=== Enable apps 2 sd ===

This will move your apps from phone to sd. 
Apps already present on sd will be overwritten by those on phone.

{{{
apps2sd on
}}}

Then you will need to reboot your phone.
On reboot system will automatically move your apps to the sdcard, then it will reboot. That's why you will see a fixed X, then the moving X for 2 seconds, and then acer logo.

*Note* : by default dalvik cache is not moved to sd for performance. 
If you want to move the davlik-cache to sd too, use
{{{
apps2sd on -d
}}}

By default apps2sd will check wether there will be enough space on target after operation. By default operation will be done only if there will be an *extra free space* of 20Mb on target.
You can change this value using the -e EXTRA option.
EXTRA must be the number of Kb you want to be free after operation

For exemple :

{{{
apps2sd on -e 10000
}}}

Will move apps to the sd card only if there is at least 10000 Kb free space after operation.


=== Disable apps 2 sd ===

This will move your apps from sd card back to your phone internal memory.
Apps already present on phone will be overwritten by those on sd

{{{
apps2sd off
}}}

Then you will need to reboot your phone.
On reboot system will automatically move your apps from the sdcard back to phone, then it will reboot. That's why you will see a fixed X, then the moving X for 2 seconds, and then acer logo.

*Restore dalvik-cache to phone* : if you wnat to restore ONLY the dalvik-cache to your internal phone memory, use
{{{
apps2sd off -d
}}}

*Note* : First boot will ta a long time because, dalvik-cache will be rebuild

By default apps2sd will check wether there will be enough space on target after operation. By default operation will be done only if there will be an *extra free space* of 20Mb on target.
You can change this value using the -e EXTRA option.
EXTRA must be the number of Kb you want to be free after operation

For exemple :

{{{
apps2sd off -e 10000
}}}

Will move apps back to phone only if there is at least 10000 Kb free space after operation.

=== Where are my apps stored / What are pending operations ? ===

This will describe you where are currently your apps stored and will display what are the pending operations.


{{{
apps2sd status
}}}

will display something like

{{{
=== APP2SD Status ===

ext partition is present on your SDCARD

/data/app is stored on your sdcard
/data/app-private is stored on your sdcard
dalvik-cache is on your sdcard

Pending operations :

-rwxrw-rw-    1 0        0              31 Mar 23 09:57 move_sd2apps
Reboot to apply
#

}}}

In this example our apps are stored on phone and will be moved to sd on next boot.


== FAQ ==

=== My apps/dalvik are on my sd, my sd is broken/removed, what should I do ? ===

If you boot your phone without any sd and your apps are stored on sd, the system will detect it and will perform needed actions. 

You will be able to boot but without any of your apps. On next boot, system will automaticaly try to reactivate apps2sd.

If that's not the case, you can manually use "apps2sd on" when you will have replaced a correct sdcard.


=== I have some application crash after a move ===

This king of little problems can happen. In this case, uninstall and reinstall the application.

=== How to cancel a pending operation ? ===

If you have a pending operation and you want to cancel it, you can use the rm_runOnce command like this :

{{{
apps2sd cancel
}}}

For exemple

{{{
=== APP2SD Status ===

ext partition is present on your SDCARD

/data/app is stored on your phone
/data/app-private is stored on your phone

Pending operations :

-rwxrw-rw-    1 0        0              30 Mar 22 10:19 move_apps2sd
Reboot to apply
}}}

To cancel the move of apps to sd use

{{{
apps2sd cancel
}}}

If you place any apps2sd order (on or off), it will automatically replace any older one.

=== It a long long time since I am waiting for my phone to boot and I have an error message in logcat telling me system will crash when booting ===

This could happen if something goes wrong when restoring to phone. For exemple you have 1Go of apps and you try to restore them on phone, oups. Try this
{{{ adb fixboot.sh }}}